<DOCTYPE! html>
<html>
<head>
	<title>Simple Simon</title>
	<link rel="stylesheet" type="text/css" href="/css/simonsays.css">

</head>
<body>
	<h1>Simon Says...</h1>
	<main>
		<div id="container">
			<div class="buttonColor" id="green"></div>
			<div class="buttonColor" id="red"></div>
			<div class="buttonColor" id="yellow"></div>
			<div class="buttonColor" id="blue"></div>
		</div>
		<button id="startButton">Start</button>
	</main>








<script src="//code.jquery.com/jquery-1.11.3.min.js"></script>
<script>
	"use strict";
var simonChoice = [];
var userChoice = [];
var allChoiceGood = true;

//START BUTTON
$(document).ready(function(){
	$("#startButton").click(playSimon);
});

//USER CLICK
$(document).ready(function(){
	$(".buttonColor").click(animateUserSquare);
});

//Simon Chooses Random Color
var getRandomSquare = function() {
	var squares = $(".buttonColor");
	var rand = Math.floor(Math.random() * 4);
	var randomSequence = squares[rand];
	var simonColor = randomSequence.getAttribute("id");
	simonChoice.push(simonColor);
	$("#" + simonColor).fadeTo("fast", 1, function() {
		$(this).fadeTo("fast", .25);
	});
}

//animates then pushes user's choice id to array
var animateUserSquare = function() {
		$(this).fadeTo("fast", 1, function() {
			$(this).fadeTo("fast",.25);
			});
			userChoice.push($(this).attr("id"))
		if((userChoice.length === simonChoice.length)) {
			for(var i = 0; i < userChoice.length; i++) {
				if(userChoice[i] === simonChoice[i]) {
					console.log("hey");
					allChoiceGood = true;
				} else {
						allChoiceGood = false;
						alert("You Lose");
				}
			}
			if(allChoiceGood) {
				playSimon();
			}
		} 
	}

//Randomizes Simon's Choice and pushes id array; then animates simon's choice
var animateSimonChoice = function() {
	getRandomSquare();
	$(this).fadeTo("fast", 1, function() {
		$(this).fadeTo("fast",.25);
		});
}


//Simon's sequence playing
var playSimon = function() {
	var i = 0;
	var intervalID = setInterval(function() {
		if (i >= simonChoice.length) {
			clearInterval(intervalID);
		}
		animateSimonChoice(simonChoice[i]);
		i += 1;
	},500);
}









</script>
</body>
</html>